{% render 'entry' with '@/styles/sections/brand-quote.scss' %}

<section
  id="brand-quote-{{ section.id }}"
  class="brand-quote"
  style="--mt-desktop: {{ section.settings.mt_desktop }}; --mt-mobile: {{ section.settings.mt_mobile }};"
>
  <div class="container">
    <div
      class="brand-quote__wrap {{ section.settings.align_center | default: false | if: 'is-center', '' }} {{ section.settings.show_border | default: true | if: 'has-border', '' }} rounded-regular"
      style="
        --bq-max-w: {{ section.settings.max_width_desktop }}px;
        --bq-max-w-m: {{ section.settings.max_width_mobile }}px;
        --bq-padding-x: {{ section.settings.padding_x }}px;
        --bq-padding-y: {{ section.settings.padding_y }}px;
        --bq-border-color: {{ section.settings.border_color }};
        --bq-border-width: {{ section.settings.border_width }}px;
        --bq-radius: {{ section.settings.radius }}px;
        --bq-overlay: {{ section.settings.overlay_opacity | divided_by: 100.0 }};
      "
    >
      {% if section.settings.bg_image != blank %}
        <div class="brand-quote__bg">
          {{ section.settings.bg_image | image_url: width: 2400 | image_tag: loading: 'lazy', decoding: 'async', alt: section.settings.title | escape }}
        </div>
      {% endif %}

      {% if section.settings.show_quotes %}
        <span class="brand-quote__quotes" aria-hidden="true">
          <svg viewBox="0 0 64 48" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 0C8.954 0 0 8.954 0 20v28h24V28H12c0-6.627 5.373-12 12-12V0zM56 0C44.954 0 36 8.954 36 20v28h24V28H48c0-6.627 5.373-12 12-12V0z"/>
          </svg>
        </span>
      {% endif %}

      <blockquote class="brand-quote__content mx-auto">
        {% if section.settings.title != blank %}
          <p class="brand-quote__text">{{ section.settings.title }}</p>
        {% endif %}

        {% if section.settings.author != blank %}
          <footer class="brand-quote__author">— {{ section.settings.author }}</footer>
        {% endif %}
      </blockquote>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Brand Quote",
  "tag": "section",
  "class": "shopify-section--brand-quote",
  "settings": [
    { "type": "text", "id": "title", "label": "Quote text", "default": "YUUM is more than a dessert brand — it’s a crafted experience. Our mission is to craft unforgettable flavour experiences by blending curiosity, authenticity, and adventure — reimagining iconic cultural tastes through bold, sensory creations made right." },
    { "type": "text", "id": "author", "label": "Author line", "default": "FULL NAME, FOUNDER AND CEO." },

    { "type": "image_picker", "id": "bg_image", "label": "Background image" },
    { "type": "range", "id": "overlay_opacity", "label": "Background overlay opacity", "min": 0, "max": 80, "step": 5, "unit": "%", "default": 20 },

    { "type": "checkbox", "id": "show_quotes", "label": "Show decorative quotes", "default": true },

    { "type": "checkbox", "id": "show_border", "label": "Show border", "default": true },
    { "type": "color", "id": "border_color", "label": "Border color", "default": "#3B82F6" },
    { "type": "range", "id": "border_width", "label": "Border width", "min": 1, "max": 6, "step": 1, "unit": "px", "default": 2 },
    { "type": "range", "id": "radius", "label": "Corner radius", "min": 0, "max": 20, "step": 2, "unit": "px", "default": 8 },

    { "type": "checkbox", "id": "align_center", "label": "Center text", "default": false },

    { "type": "range", "id": "max_width_desktop", "label": "Max width (desktop)", "min": 720, "max": 1200, "step": 20, "unit": "px", "default": 1100 },
    { "type": "range", "id": "max_width_mobile", "label": "Max width (mobile)", "min": 280, "max": 360, "step": 2, "unit": "px", "default": 320 },

    { "type": "range", "id": "padding_x", "label": "Padding X", "min": 12, "max": 48, "step": 2, "unit": "px", "default": 24 },
    { "type": "range", "id": "padding_y", "label": "Padding Y", "min": 16, "max": 56, "step": 4, "unit": "px", "default": 24 },

    { "type": "text", "id": "mt_desktop", "label": "margin-top desktop (px/em/rem/%)", "default": "0" },
    { "type": "text", "id": "mt_mobile", "label": "margin-top mobile (px/em/rem/%)", "default": "0" }
  ],
  "presets": [
    { "name": "Brand Quote" }
  ]
}
{% endschema %}
