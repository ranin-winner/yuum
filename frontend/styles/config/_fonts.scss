@charset 'UTF-8';
@use 'sass:map';
@use 'sass:meta';

$fonts_locale: null !default;

/* 
  Нові сімейства:
  - Heading: WT Monarch Nova (400)
  - Body: Neue Haas Grotesk Display Pro (400/500/600)
  Легасі-аліаси лишені для сумісності:
  - regular  -> body-400
  - bold     -> body-600 (найближчий аналог до старого 700)
  - gaspacho -> heading-400 (декоративний -> заголовковий)
  - gumbo_regular -> body-400
*/
$fonts: (
  default: (
    // Нові ключі (рекомендовано використовувати їх надалі)
    heading-400: (
      font-family: ('WT Monarch Nova', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 400,
    ),
    body-400: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 400,
    ),
    body-500: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 500,
    ),
    body-600: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 600,
    ),

    // Легасі-аліаси (нічого не ламаємо в існуючому коді)
    regular: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 400, // було Aksen 400
    ),
    bold: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 600, // раніше було 700; найближчий доступний — 600
    ),
    gaspacho: (
      font-family: ('WT Monarch Nova', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 400,
    ),
    gumbo_regular: (
      font-family: ('Neue Haas Grotesk Display Pro', 'system-ui', '-apple-system', 'Arial', 'sans-serif'),
      font-weight: 400,
    ),
  ),
);

/* stylelint-disable
    scss/at-function-named-arguments,
    function-comma-space-after
*/
@mixin font(
  $type: main,
  $size: null,
  $line-height: null
) {
  @if $type {
    $__fonts_map: map.get($fonts, default);

    @if $fonts_locale {
      $__fonts_map: map.merge(
        map.get($fonts, default),
        map.get($fonts, $fonts_locale)
      );
    }

    $__current_font_type_map: map.get($__fonts_map, $type);

    @if meta.type-of($__current_font_type_map) == 'map' {
      @each $property, $value in $__current_font_type_map {
        #{$property}: $value;
      }
    } @else {
      @warn('There is no such font type: ' + $type);
    }
  }

  font-size: $size;
  line-height: $line-height;
}

@mixin font-smoothing {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
