{% render 'entry' with '@/styles/sections/about-product.scss' %}

<section class="about-product py-12 md:py-20 bg-[#F4F4F4]">
  <div class="about-product__container">
    {% if section.settings.kicker != blank %}
      <p class="about-product__kicker">{{ section.settings.kicker | escape }}</p>
    {% endif %}

    {% if section.settings.title != blank %}
      <h2 class="about-product__title">{{ section.settings.title | escape }}</h2>
    {% endif %}

    {% if section.settings.richtext != blank %}
      <div class="about-product__desc rte mx-auto">
        {{ section.settings.richtext }}
      </div>
    {% endif %}

    <div class="about-product__section">
      <div class="about-product__img bg-white rounded-2xl overflow-hidden shadow-[0_8px_24px_rgba(0,0,0,0.08)]">
        {% if section.settings.image != blank %}
          {{ section.settings.image | image_url: width: 1500 | image_tag:
            loading: 'lazy',
            class: 'w-full h-auto block object-cover' ,
            alt: section.settings.image_alt | escape
          }}
        {% else %}
          <div class="aspect-[4/3] bg-gray-200"></div>
        {% endif %}
      </div>

      <aside class="about-product__card">
        {% if section.settings.card_title != blank %}
          <h3 class="text-white text-[22px] leading-tight md:text-2xl mb-4">
            {{ section.settings.card_title | escape }}
          </h3>
        {% endif %}

        <ol class="about-product__ol">
          {% for block in section.blocks %}
            {% if block.type == 'tip' %}
              <li class="space-y-1">
                {% if block.settings.tip_title != blank %}
                  <p class="font-semibold">{{ block.settings.tip_title | escape }}</p>
                {% endif %}
                {% if block.settings.tip_text != blank %}
                  <p class="text-white/85">{{ block.settings.tip_text }}</p>
                {% endif %}
              </li>
            {% endif %}
          {% endfor %}
        </ol>
      </aside>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "About the product",
  "settings": [
    { "type": "text", "id": "kicker", "label": "Small label", "default": "ABOUT THE PRODUCT" },
    { "type": "text", "id": "title", "label": "Title", "default": "Description" },
    { "type": "richtext", "id": "richtext", "label": "Description text", "default": "<p>Write your description here.</p>" },
    { "type": "image_picker", "id": "image", "label": "Left image" },
    { "type": "text", "id": "image_alt", "label": "Image alt" },
    { "type": "text", "id": "card_title", "label": "Right card title", "default": "How to enjoy mochi better:" }
  ],
  "blocks": [
    {
      "type": "tip",
      "name": "Tip item",
      "settings": [
        { "type": "text", "id": "tip_title", "label": "Step title", "default": "Complete defrosting" },
        { "type": "richtext", "id": "tip_text", "label": "Step text", "default": "<p>Add your step description here.</p>" }
      ]
    }
  ],
  "max_blocks": 8,
  "presets": [
    { "name": "About the product" }
  ]
}
{% endschema %}
